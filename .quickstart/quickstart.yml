database_key: intercom_database
schema_key: intercom_schema

dbt_versions: ">=1.3.0 <3.0.0"

table_variables:
  intercom__using_articles:
    - article_history
  intercom__using_collection_history:
    - collection_history
  intercom__using_contact_company:
    - company_history
    - contact_company_history
  intercom__using_company_tags:
    - company_tag_history
  intercom__using_contact_tags:
    - contact_tag_history
  intercom__using_conversation_tags:
    - conversation_tag_history
  intercom__using_help_center_history:
    - help_center_history
  intercom__using_team:
    - team
    - team_admin

  _fivetran_quickstart_tag:
    - tag

destination_configurations:
  databricks:
    dispatch:
      - macro_namespace: dbt_utils
        search_order: [ 'spark_utils', 'dbt_utils' ]

public_models: [
  "intercom__admin_metrics",
  "intercom__article_enhanced",
  "intercom__conversation_metrics",
  "intercom__company_metrics",
  "intercom__contact_enhanced",
  "intercom__company_enhanced",
  "intercom__conversation_enhanced"
]

supported_vars:
  intercom__company_history_pass_through_columns:
    type: dictionary
    description: "Additional `COMPANY_HISTORY` fields to include in `intercom__company_enhanced`"
    display_name: "Additional Company Columns"

  intercom__contact_history_pass_through_columns:
    type: dictionary
    description: "Additional `CONTACT_HISTORY` fields to include in `intercom__contact_enhanced`"
    display_name: "Additional Contact Columns"

  intercom__conversation_history_pass_through_columns:
    type: dictionary
    description: "Additional `CONVERSATION_HISTORY` fields to include in `intercom__conversation_enhanced`"
    display_name: "Additional Conversation Columns"

